# Morse Code Converter

Веб-сервис для автоматической конвертации текста в код Морзе и обратно.

## Описание

Этот проект представляет собой HTTP-сервер, который автоматически определяет формат входных данных (обычный текст или код Морзе) и выполняет соответствующую конвертацию:
- Текст → Код Морзе
- Код Морзе → Текст

Сервис работает с русским алфавитом.

## Структура проекта

```
.
├── cmd/
│   └── main.go              # Точка входа приложения
├── internal/
│   ├── handlers/
│   │   └── handlers.go      # HTTP-хендлеры
│   ├── server/
│   │   └── server.go        # Конфигурация HTTP-сервера
│   └── service/
│       └── service.go       # Логика автоопределения и конвертации
├── pkg/
│   └── morse/
│       └── morse.go         # Библиотека для работы с кодом Морзе
├── index.html               # Веб-форма для загрузки файлов
├── test                     # Тестовый файл с кодом Морзе
└── test12                   # Тестовый файл с текстом
```

## Установка и запуск

### Требования
- Go 1.24.0 или выше

### Запуск сервера

```bash
# Клонировать репозиторий
git clone https://github.com/BadHellcat/animated-happiness.git
cd animated-happiness

# Запустить сервер
go run cmd/main.go
```

Сервер будет доступен по адресу: `http://localhost:8080`

### Сборка

```bash
go build -o morse-server cmd/main.go
./morse-server
```

## Использование

### Через веб-интерфейс

1. Откройте браузер и перейдите на `http://localhost:8080`
2. Выберите файл для загрузки (текстовый файл или файл с кодом Морзе)
3. Нажмите "upload"
4. Результат конвертации отобразится на странице и будет сохранен в локальный файл

### Через curl

```bash
# Конвертация кода Морзе в текст
curl -F "myFile=@test" http://localhost:8080/upload

# Конвертация текста в код Морзе
curl -F "myFile=@test12" http://localhost:8080/upload
```

## Тестовые файлы

- `test` — файл с кодом Морзе: `.--. .-. .. .-- . -` (ПРИВЕТ)
- `test12` — файл с текстом: `Привет`

## API

### GET /
Возвращает HTML-форму для загрузки файлов.

### POST /upload
Принимает файл через multipart/form-data, конвертирует его содержимое и возвращает результат.

**Параметры:**
- `myFile` — файл для конвертации

**Ответ:**
- `200 OK` — успешная конвертация, в теле ответа результат
- `500 Internal Server Error` — ошибка при обработке

## Конфигурация сервера

- **Порт:** 8080
- **Read Timeout:** 5 секунд
- **Write Timeout:** 10 секунд
- **Idle Timeout:** 15 секунд

## Разработка

### Пакеты

#### service
Содержит функцию `ConvertData(data string) (string, error)`, которая:
- Автоматически определяет тип входных данных
- Конвертирует код Морзе в текст или текст в код Морзе
- Возвращает результат или ошибку

#### handlers
Реализует два HTTP-хендлера:
- `IndexHandler` — отдает HTML-форму
- `UploadHandler` — обрабатывает загрузку и конвертацию файлов

#### server
Содержит структуру `Server` и функцию `NewServer(logger *log.Logger)` для создания и конфигурации HTTP-сервера.

## Лицензия

MIT
